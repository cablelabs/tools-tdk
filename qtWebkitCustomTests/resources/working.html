<!DOCTYPE html>
<html lang="en-US">
<head>
<title>HTML5 Video</title>
</head>
<body>

<div id="log">
</div>
<video id="videoWebm"  preload controls="controls" autoplay>
<source src="big_buck_bunny.mp4" type="video/mp4">
</video>

        <script type="text/javascript">
        var videoWebm=document.getElementById("videoWebm")
        var resultvideoWebmPlayed=false
        var t0
        var diff
        var playbackDiff
        var playbackdoublestart
        var playbackdoubleend
        videoWebm.play()
        videoWebm.addEventListener("playing", function(event) {
        alert("Playing video")
            playbackdoubleend = (new Date()).getTime();
            playbackdiff = playbackdoubleend - playbackdoublestart

            resultvideoWebmPlayed=true
        })


        function playingWebm() {
            return resultvideoWebmPlayed
        }


videoWebm.addEventListener("loadstart",function(event){
    t0 = (new Date()).getTime();
    alert("Loading statred"+t0)
});

videoWebm.addEventListener("loadeddata",function(event){
    var t1 = (new Date()).getTime();
    diff = t1 - t0
    alert("Loaded video" )

});

function getLoadTime()
{
    return diff
}

function playbackDouble()
{
    playbackdoublestart = (new Date()).getTime();
    videoWebm.playbackRate = 2.0
    videoWebm.play()
    //var t1 = performance.now()
    //var result = t1 - t0
    alert("After playback rate changed");
}

function timeToPlay()
{
    return playbackdiff
}

</script>
</body>
</html>
