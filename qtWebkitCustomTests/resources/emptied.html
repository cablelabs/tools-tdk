<!DOCTYPE html>
<html lang="en-US">
<head>
<title>HTML5 Video</title>
</head>
<body>

<h1> Video test</h1>
<div id="logs">
log1
</div>
<video id="videoMp4" onemptied="emptiedEvent()" preload controls>
<source src="big_buck_bunny.mp4" type="video/mp4">
</video>
<script type="text/javascript">
var myVid=document.getElementById('videoMp4')
var emptyEvent = false
function doLog(logtxt)
{
        var div = document.getElementById('logs')
        div.innerHTML = div.innerHTML + "*"+logtxt
}
doLog("Log2");
function emptiedEvent()
{
    doLog("Emptied event received")
    emptyEvent = true;
}

doLog("Log3");
function invokeEmptyEvnt()
{
    doLog("Set video src to invalid to generate empty event");
    myVid.src ="invalid.mp4";
    return emptyEvent;
}
doLog("LogEnd");
function checkEmptyEvent()
{
    doLog("return empty event");
    return emptyEvent;
}
</script>
</body>
</html>
